unbind C-b

# Allow OSC 52 to pass through to terminal (remote clipboard sync)
set -g set-clipboard on
set -ga terminal-features ",*:clipboard"

# Different prefix for local (tablet) vs remote (VPS) sessions
# Local: C-a, Remote (SSH): C-n
if-shell '[ -n "$SSH_CLIENT" ]' \
  'set -g prefix C-n; bind C-n send-prefix' \
  'set -g prefix C-a; bind C-a send-prefix'

# Vi-style copy mode
set-window-option -g mode-keys vi

set -g status on
set -g status-bg white
set -g status-fg black
set -g message-style "bg=white,fg=black"
set -g status-right "#{b:pane_current_path}"

# Pane borders - all black double-line
set -g pane-border-style fg=black
set -g pane-active-border-style fg=black
set -g pane-border-lines double

set -g display-panes-time 2000

# Flash on pane switch - invert entire pane briefly (local only, skip over SSH)
if-shell '[ -z "$SSH_CLIENT" ]' \
  "set-hook -g after-select-pane 'run-shell \"tmux select-pane -P bg=black,fg=white; sleep 0.15; tmux select-pane -P default\"'"

# Window switching with Colemak home row (prefix + key)
# a=window 0, r=window 1, s=window 2, t=window 3
bind a select-window -t 0
bind r select-window -t 1
bind s select-window -t 2
bind t select-window -t 3

# Rebind session chooser to capital S
bind S choose-tree -s
